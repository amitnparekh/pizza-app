<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Pizza 42 Home Page</title>
    <link rel="stylesheet" type="text/css" href="/css/main.css" />

      <script src="https://cdn.auth0.com/js/auth0-spa-js/1.13/auth0-spa-js.production.js"></script>
      <!--
      <script src="https://cdn.auth0.com/js/auth0/9.14.3/auth0.min.js"></script>
      -->
      <script src="js/auth0.js"></script>
      <script src="js/ui.js"></script>
      <script src="js/app.js"></script>

    <script>
           
      var orderConfirmationMessage = GetURLParameter('orderConfirmation');

      var orderConfMessage = decodeURI(orderConfirmationMessage);

      //console.log("orderConfirmationMessage from SCRIPT tag in HTML page : "+orderConfMessage);
      
    </script>

  </head>

  <body>
  
  <div align="center">
    <h2 id="h2-main-title">Welcome to Pizza 42!</h2>
    <p><img src="images/pizza-42-logo.png" width = "200" height = "100" /></p>   
    <button id="btn-login" onclick="login()">Log in</button>
    <button id="btn-logout" onclick="logout()">Log out</button>
  </div>
  
  <div class="hidden" id="pizza-order-msg" align="center"></div>
    
  <div class="hidden" id="pizza-order-form" align="center">

    <form id="order-form" method="POST" action="/api/takePizzaOrder">
          
      <p>
          <strong>Pizza Type: </strong>

          <select id="pizzaType" name="pizzaType" value="3">
            <option selected="selected">Margherita</option>
            <option>Italiana</option>
            <option>Seafood</option>
            <option>Veggie</option>
          </select>

      </p>
      <p>
          <strong>Quantity: </strong> <input id="pizzaQty" name="pizzaQty" type="number" min="1" max="5" value="1"/>
      </p>
      
      <p>
          <input type="hidden" id="userId" name="userId" value=""/>
      </p>
  
         <!--
      <button id="btn-call-api" disabled="true" onclick="callApi()">Place Order</button>
            -->
  
      <input type="submit" id="btn-call-api" disabled="true" value="Place Order"></input>

    </form>

  </div>

  <p id="h2-title" align="center"></p>

    <!-- Add a container to hold the response from the call -->
    <pre id="api-call-result"></pre>

	<br>
   <!-- Code to show User Profile details -->
  <div class="hidden" id="gated-content">
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <p>
      You're seeing this content because you're currently
      <strong>logged in</strong>.
    </p>
    <label>
      <b>Access token:</b>
      <pre id="ipt-access-token"></pre>
    </label>
    <label>
      <b>User profile:</b>
      <pre id="ipt-user-profile"></pre>
    </label>
  </div>
  <div class="hidden" id="gated-content-1">
    <label>
      <b>ID (JWT) Token with user metadata (and pizza order details):</b>
      <pre id="ipt-user-metadata"></pre>
    </label>
  </div>

 
	<br>
	<h3 id="h3-message"></h2>

  </body>
</html>
